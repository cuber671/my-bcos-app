# ============================================
# FISCO项目 - 环境变量配置模板
# ============================================
# 使用方法：
# 1. 复制此文件为 .env
#    cp .env.example .env
# 2. 修改敏感信息（JWT_SECRET等）
# 3. 启动服务: docker-compose up -d
# ============================================

# ==================== JWT配置（必需）====================
# JWT密钥（必须至少256位，用于Token签名）
# 开发环境：可以使用简单值
# 生产环境：必须使用强随机密钥
# 生成命令: openssl rand -base64 64
JWT_SECRET=dev-jwt-secret-key-for-development-only-change-this-in-production

# JWT Token过期时间（毫秒）
# 开发环境：24小时 = 86400000ms
JWT_EXPIRATION=86400000

# JWT刷新Token过期时间（毫秒）
# 开发环境：7天 = 604800000ms
JWT_REFRESH_EXPIRATION=604800000

# ==================== 数据加密配置（可选）====================
# 数据加密密钥（用于加密敏感用户数据）
# 生成命令: openssl rand -base64 64
ENCRYPTION_KEY=dev-encryption-key-for-development-only-change-this-in-production

# ==================== 数据库配置（生产环境使用）====================
# 注意：开发环境的数据库配置在 docker-compose.yml 中硬编码
# 生产环境需要通过这些环境变量覆盖
DB_PASSWORD=123456
SPRING_DATASOURCE_URL=jdbc:mysql://db:3306/fisco_data?useSSL=false&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true

# ==================== CORS配置 ====================
# 允许跨域的前端地址（多个用逗号分隔）
# 开发环境：允许所有
CORS_ALLOWED_ORIGINS=*

# ==================== 区块链配置（FISCO BCOS）====================
# FISCO节点地址
FISCO_NODE_URL=http://127.0.0.1:20200

# 群组ID
FISCO_GROUP_ID=1

# 链ID
FISCO_CHAIN_ID=1

# 智能合约地址（部署后填入）
CONTRACT_ADDRESS=

# ==================== 其他配置 ====================
# Spring激活的配置文件（dev/prod）
SPRING_PROFILES_ACTIVE=dev

# 应用端口
SERVER_PORT=8080

# 时区
TZ=Asia/Shanghai

# ==================== 生产环境部署说明 ====================
# 生产环境部署时：
# 1. 在服务器上创建 .env 文件（不要从Git拉取）
# 2. 生成强随机密钥：
#    JWT_SECRET=$(openssl rand -base64 64)
#    ENCRYPTION_KEY=$(openssl rand -base64 64)
# 3. 设置强数据库密码
# 4. 设置文件权限：chmod 600 .env
# 5. 使用 docker-compose.prod.yml 启动