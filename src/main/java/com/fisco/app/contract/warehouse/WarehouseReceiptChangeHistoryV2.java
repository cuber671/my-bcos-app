package com.fisco.app.contract.warehouse;

import java.math.BigInteger;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;

import org.fisco.bcos.sdk.v3.client.Client;
import org.fisco.bcos.sdk.v3.codec.datatypes.DynamicArray;
import org.fisco.bcos.sdk.v3.codec.datatypes.DynamicStruct;
import org.fisco.bcos.sdk.v3.codec.datatypes.Event;
import org.fisco.bcos.sdk.v3.codec.datatypes.Function;
import org.fisco.bcos.sdk.v3.codec.datatypes.Type;
import org.fisco.bcos.sdk.v3.codec.datatypes.TypeReference;
import org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String;
import org.fisco.bcos.sdk.v3.codec.datatypes.generated.Bytes32;
import org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint256;
import org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint8;
import org.fisco.bcos.sdk.v3.codec.datatypes.generated.tuples.generated.Tuple7;
import org.fisco.bcos.sdk.v3.contract.Contract;
import org.fisco.bcos.sdk.v3.crypto.CryptoSuite;
import org.fisco.bcos.sdk.v3.crypto.keypair.CryptoKeyPair;
import org.fisco.bcos.sdk.v3.eventsub.EventSubCallback;
import org.fisco.bcos.sdk.v3.model.CryptoType;
import org.fisco.bcos.sdk.v3.model.TransactionReceipt;
import org.fisco.bcos.sdk.v3.model.callback.TransactionCallback;
import org.fisco.bcos.sdk.v3.transaction.model.exception.ContractException;

/**
 * 电子仓单变更历史溯源合约 记录仓单全生命周期的属性变更，提供不可篡改的审计追踪
 */
@SuppressWarnings("unchecked")
public class WarehouseReceiptChangeHistoryV2 extends Contract {
    public static final String[] BINARY_ARRAY = {"608060405234801561001057600080fd5b506117ad806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80631617f59f1461005157806355037f2714610081578063bd4974ee1461009d578063e360736e146100cd575b600080fd5b61006b60048036038101906100669190610ebd565b6100fd565b6040516100789190610f1f565b60405180910390f35b61009b60048036038101906100969190610f73565b610127565b005b6100b760048036038101906100b291906110e9565b6103ae565b6040516100c49190611354565b60405180910390f35b6100e760048036038101906100e29190610ebd565b610826565b6040516100f49190611520565b60405180910390f35b6000808260405161010e919061157e565b9081526020016040518091039020805490509050919050565b60078081111561013a576101396111cd565b5b60ff168660ff161115610182576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610179906115f2565b60405180910390fd5b60006040518061012001604052808981526020018860ff1660078111156101ac576101ab6111cd565b5b60078111156101be576101bd6111cd565b5b81526020018781526020018681526020018581526020018481526020018381526020014281526020016000801b8152509050600088604051610200919061157e565b90815260200160405180910390208190806001815401808255809150506001900390600052602060002090600902016000909190919091506000820151816000019080519060200190610254929190610c5f565b5060208201518160010160006101000a81548160ff021916908360078111156102805761027f6111cd565b5b021790555060408201518160020190805190602001906102a1929190610c5f565b5060608201518160030190805190602001906102be929190610c5f565b5060808201518160040190805190602001906102db929190610c5f565b5060a08201518160050190805190602001906102f8929190610c5f565b5060c0820151816006019080519060200190610315929190610c5f565b5060e08201518160070155610100820151816008015550508660ff166007811115610343576103426111cd565b5b6007811115610355576103546111cd565b5b88604051610363919061157e565b60405180910390207fa2d5df44eb9aa9e2b8e512996d7c14bdf8638da2aa6e4b459e824c602317a0e1864260405161039c92919061164b565b60405180910390a35050505050505050565b6103b6610ce5565b6000836040516103c6919061157e565b9081526020016040518091039020805490508210610419576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610410906116c7565b60405180910390fd5b600083604051610429919061157e565b90815260200160405180910390208281548110610449576104486116e7565b5b90600052602060002090600902016040518061012001604052908160008201805461047390611745565b80601f016020809104026020016040519081016040528092919081815260200182805461049f90611745565b80156104ec5780601f106104c1576101008083540402835291602001916104ec565b820191906000526020600020905b8154815290600101906020018083116104cf57829003601f168201915b505050505081526020016001820160009054906101000a900460ff16600781111561051a576105196111cd565b5b600781111561052c5761052b6111cd565b5b815260200160028201805461054090611745565b80601f016020809104026020016040519081016040528092919081815260200182805461056c90611745565b80156105b95780601f1061058e576101008083540402835291602001916105b9565b820191906000526020600020905b81548152906001019060200180831161059c57829003601f168201915b505050505081526020016003820180546105d290611745565b80601f01602080910402602001604051908101604052809291908181526020018280546105fe90611745565b801561064b5780601f106106205761010080835404028352916020019161064b565b820191906000526020600020905b81548152906001019060200180831161062e57829003601f168201915b5050505050815260200160048201805461066490611745565b80601f016020809104026020016040519081016040528092919081815260200182805461069090611745565b80156106dd5780601f106106b2576101008083540402835291602001916106dd565b820191906000526020600020905b8154815290600101906020018083116106c057829003601f168201915b505050505081526020016005820180546106f690611745565b80601f016020809104026020016040519081016040528092919081815260200182805461072290611745565b801561076f5780601f106107445761010080835404028352916020019161076f565b820191906000526020600020905b81548152906001019060200180831161075257829003601f168201915b5050505050815260200160068201805461078890611745565b80601f01602080910402602001604051908101604052809291908181526020018280546107b490611745565b80156108015780601f106107d657610100808354040283529160200191610801565b820191906000526020600020905b8154815290600101906020018083116107e457829003601f168201915b5050505050815260200160078201548152602001600882015481525050905092915050565b6060600082604051610838919061157e565b9081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015610c5457838290600052602060002090600902016040518061012001604052908160008201805461089a90611745565b80601f01602080910402602001604051908101604052809291908181526020018280546108c690611745565b80156109135780601f106108e857610100808354040283529160200191610913565b820191906000526020600020905b8154815290600101906020018083116108f657829003601f168201915b505050505081526020016001820160009054906101000a900460ff166007811115610941576109406111cd565b5b6007811115610953576109526111cd565b5b815260200160028201805461096790611745565b80601f016020809104026020016040519081016040528092919081815260200182805461099390611745565b80156109e05780601f106109b5576101008083540402835291602001916109e0565b820191906000526020600020905b8154815290600101906020018083116109c357829003601f168201915b505050505081526020016003820180546109f990611745565b80601f0160208091040260200160405190810160405280929190818152602001828054610a2590611745565b8015610a725780601f10610a4757610100808354040283529160200191610a72565b820191906000526020600020905b815481529060010190602001808311610a5557829003601f168201915b50505050508152602001600482018054610a8b90611745565b80601f0160208091040260200160405190810160405280929190818152602001828054610ab790611745565b8015610b045780601f10610ad957610100808354040283529160200191610b04565b820191906000526020600020905b815481529060010190602001808311610ae757829003601f168201915b50505050508152602001600582018054610b1d90611745565b80601f0160208091040260200160405190810160405280929190818152602001828054610b4990611745565b8015610b965780601f10610b6b57610100808354040283529160200191610b96565b820191906000526020600020905b815481529060010190602001808311610b7957829003601f168201915b50505050508152602001600682018054610baf90611745565b80601f0160208091040260200160405190810160405280929190818152602001828054610bdb90611745565b8015610c285780601f10610bfd57610100808354040283529160200191610c28565b820191906000526020600020905b815481529060010190602001808311610c0b57829003601f168201915b505050505081526020016007820154815260200160088201548152505081526020019060010190610866565b505050509050919050565b828054610c6b90611745565b90600052602060002090601f016020900481019282610c8d5760008555610cd4565b82601f10610ca657805160ff1916838001178555610cd4565b82800160010185558215610cd4579182015b82811115610cd3578251825591602001919060010190610cb8565b5b509050610ce19190610d46565b5090565b6040518061012001604052806060815260200160006007811115610d0c57610d0b6111cd565b5b8152602001606081526020016060815260200160608152602001606081526020016060815260200160008152602001600080191681525090565b5b80821115610d5f576000816000905550600101610d47565b5090565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610dca82610d81565b810181811067ffffffffffffffff82111715610de957610de8610d92565b5b80604052505050565b6000610dfc610d63565b9050610e088282610dc1565b919050565b600067ffffffffffffffff821115610e2857610e27610d92565b5b610e3182610d81565b9050602081019050919050565b82818337600083830152505050565b6000610e60610e5b84610e0d565b610df2565b905082815260208101848484011115610e7c57610e7b610d7c565b5b610e87848285610e3e565b509392505050565b600082601f830112610ea457610ea3610d77565b5b8135610eb4848260208601610e4d565b91505092915050565b600060208284031215610ed357610ed2610d6d565b5b600082013567ffffffffffffffff811115610ef157610ef0610d72565b5b610efd84828501610e8f565b91505092915050565b6000819050919050565b610f1981610f06565b82525050565b6000602082019050610f346000830184610f10565b92915050565b600060ff82169050919050565b610f5081610f3a565b8114610f5b57600080fd5b50565b600081359050610f6d81610f47565b92915050565b600080600080600080600060e0888a031215610f9257610f91610d6d565b5b600088013567ffffffffffffffff811115610fb057610faf610d72565b5b610fbc8a828b01610e8f565b9750506020610fcd8a828b01610f5e565b965050604088013567ffffffffffffffff81","1115610fee57610fed610d72565b5b610ffa8a828b01610e8f565b955050606088013567ffffffffffffffff81111561101b5761101a610d72565b5b6110278a828b01610e8f565b945050608088013567ffffffffffffffff81111561104857611047610d72565b5b6110548a828b01610e8f565b93505060a088013567ffffffffffffffff81111561107557611074610d72565b5b6110818a828b01610e8f565b92505060c088013567ffffffffffffffff8111156110a2576110a1610d72565b5b6110ae8a828b01610e8f565b91505092959891949750929550565b6110c681610f06565b81146110d157600080fd5b50565b6000813590506110e3816110bd565b92915050565b60008060408385031215611100576110ff610d6d565b5b600083013567ffffffffffffffff81111561111e5761111d610d72565b5b61112a85828601610e8f565b925050602061113b858286016110d4565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561117f578082015181840152602081019050611164565b8381111561118e576000848401525b50505050565b600061119f82611145565b6111a98185611150565b93506111b9818560208601611161565b6111c281610d81565b840191505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b6008811061120d5761120c6111cd565b5b50565b600081905061121e826111fc565b919050565b600061122e82611210565b9050919050565b61123e81611223565b82525050565b61124d81610f06565b82525050565b6000819050919050565b61126681611253565b82525050565b600061012083016000830151848203600086015261128a8282611194565b915050602083015161129f6020860182611235565b50604083015184820360408601526112b78282611194565b915050606083015184820360608601526112d18282611194565b915050608083015184820360808601526112eb8282611194565b91505060a083015184820360a08601526113058282611194565b91505060c083015184820360c086015261131f8282611194565b91505060e083015161133460e0860182611244565b5061010083015161134961010086018261125d565b508091505092915050565b6000602082019050818103600083015261136e818461126c565b905092915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60006101208301600083015184820360008601526113c08282611194565b91505060208301516113d56020860182611235565b50604083015184820360408601526113ed8282611194565b915050606083015184820360608601526114078282611194565b915050608083015184820360808601526114218282611194565b91505060a083015184820360a086015261143b8282611194565b91505060c083015184820360c08601526114558282611194565b91505060e083015161146a60e0860182611244565b5061010083015161147f61010086018261125d565b508091505092915050565b600061149683836113a2565b905092915050565b6000602082019050919050565b60006114b682611376565b6114c08185611381565b9350836020820285016114d285611392565b8060005b8581101561150e57848403895281516114ef858261148a565b94506114fa8361149e565b925060208a019950506001810190506114d6565b50829750879550505050505092915050565b6000602082019050818103600083015261153a81846114ab565b905092915050565b600081905092915050565b600061155882611145565b6115628185611542565b9350611572818560208601611161565b80840191505092915050565b600061158a828461154d565b915081905092915050565b600082825260208201905092915050565b7f496e76616c6964204368616e6765547970650000000000000000000000000000600082015250565b60006115dc601283611595565b91506115e7826115a6565b602082019050919050565b6000602082019050818103600083015261160b816115cf565b9050919050565b600061161d82611145565b6116278185611595565b9350611637818560208601611161565b61164081610d81565b840191505092915050565b600060408201905081810360008301526116658185611612565b90506116746020830184610f10565b9392505050565b7f496e646578206f7574206f6620626f756e647300000000000000000000000000600082015250565b60006116b1601383611595565b91506116bc8261167b565b602082019050919050565b600060208201905081810360008301526116e0816116a4565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061175d57607f821691505b6020821081141561177157611770611716565b5b5091905056fea2646970667358221220b431c15d5ec3be9f615dd32438836b7bed48d612d6f95b23bc45e0843de9cbcb64736f6c634300080b0033"};

    public static final String BINARY = org.fisco.bcos.sdk.v3.utils.StringUtils.joinAll("", BINARY_ARRAY);

    public static final String[] SM_BINARY_ARRAY = {"608060405234801561001057600080fd5b506117ad806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80633838112f1461005157806354d9e02d14610081578063675644ca1461009d578063d51d2c0d146100cd575b600080fd5b61006b60048036038101906100669190610ef3565b6100fd565b604051610078919061115e565b60405180910390f35b61009b600480360381019061009691906111b9565b610575565b005b6100b760048036038101906100b29190611303565b6107fc565b6040516100c491906114f6565b60405180910390f35b6100e760048036038101906100e29190611303565b610c35565b6040516100f49190611527565b60405180910390f35b610105610c5f565b600083604051610115919061157e565b9081526020016040518091039020805490508210610168576040517fc703cb1200000000000000000000000000000000000000000000000000000000815260040161015f906115f2565b60405180910390fd5b600083604051610178919061157e565b9081526020016040518091039020828154811061019857610197611612565b5b9060005260206000209060090201604051806101200160405290816000820180546101c290611670565b80601f01602080910402602001604051908101604052809291908181526020018280546101ee90611670565b801561023b5780601f106102105761010080835404028352916020019161023b565b820191906000526020600020905b81548152906001019060200180831161021e57829003601f168201915b505050505081526020016001820160009054906101000a900460ff16600781111561026957610268610fd7565b5b600781111561027b5761027a610fd7565b5b815260200160028201805461028f90611670565b80601f01602080910402602001604051908101604052809291908181526020018280546102bb90611670565b80156103085780601f106102dd57610100808354040283529160200191610308565b820191906000526020600020905b8154815290600101906020018083116102eb57829003601f168201915b5050505050815260200160038201805461032190611670565b80601f016020809104026020016040519081016040528092919081815260200182805461034d90611670565b801561039a5780601f1061036f5761010080835404028352916020019161039a565b820191906000526020600020905b81548152906001019060200180831161037d57829003601f168201915b505050505081526020016004820180546103b390611670565b80601f01602080910402602001604051908101604052809291908181526020018280546103df90611670565b801561042c5780601f106104015761010080835404028352916020019161042c565b820191906000526020600020905b81548152906001019060200180831161040f57829003601f168201915b5050505050815260200160058201805461044590611670565b80601f016020809104026020016040519081016040528092919081815260200182805461047190611670565b80156104be5780601f10610493576101008083540402835291602001916104be565b820191906000526020600020905b8154815290600101906020018083116104a157829003601f168201915b505050505081526020016006820180546104d790611670565b80601f016020809104026020016040519081016040528092919081815260200182805461050390611670565b80156105505780601f1061052557610100808354040283529160200191610550565b820191906000526020600020905b81548152906001019060200180831161053357829003601f168201915b5050505050815260200160078201548152602001600882015481525050905092915050565b60078081111561058857610587610fd7565b5b60ff168660ff1611156105d0576040517fc703cb120000000000000000000000000000000000000000000000000000000081526004016105c7906116ee565b60405180910390fd5b60006040518061012001604052808981526020018860ff1660078111156105fa576105f9610fd7565b5b600781111561060c5761060b610fd7565b5b81526020018781526020018681526020018581526020018481526020018381526020014281526020016000801b815250905060008860405161064e919061157e565b908152602001604051809103902081908060018154018082558091505060019003906000526020600020906009020160009091909190915060008201518160000190805190602001906106a2929190610cc0565b5060208201518160010160006101000a81548160ff021916908360078111156106ce576106cd610fd7565b5b021790555060408201518160020190805190602001906106ef929190610cc0565b50606082015181600301908051906020019061070c929190610cc0565b506080820151816004019080519060200190610729929190610cc0565b5060a0820151816005019080519060200190610746929190610cc0565b5060c0820151816006019080519060200190610763929190610cc0565b5060e08201518160070155610100820151816008015550508660ff16600781111561079157610790610fd7565b5b60078111156107a3576107a2610fd7565b5b886040516107b1919061157e565b60405180910390207f96b5988eadbcefb642b651e4c0fd2a25dafc11452641d7ea5c153deef06fd29186426040516107ea929190611747565b60405180910390a35050505050505050565b606060008260405161080e919061157e565b9081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015610c2a57838290600052602060002090600902016040518061012001604052908160008201805461087090611670565b80601f016020809104026020016040519081016040528092919081815260200182805461089c90611670565b80156108e95780601f106108be576101008083540402835291602001916108e9565b820191906000526020600020905b8154815290600101906020018083116108cc57829003601f168201915b505050505081526020016001820160009054906101000a900460ff16600781111561091757610916610fd7565b5b600781111561092957610928610fd7565b5b815260200160028201805461093d90611670565b80601f016020809104026020016040519081016040528092919081815260200182805461096990611670565b80156109b65780601f1061098b576101008083540402835291602001916109b6565b820191906000526020600020905b81548152906001019060200180831161099957829003601f168201915b505050505081526020016003820180546109cf90611670565b80601f01602080910402602001604051908101604052809291908181526020018280546109fb90611670565b8015610a485780601f10610a1d57610100808354040283529160200191610a48565b820191906000526020600020905b815481529060010190602001808311610a2b57829003601f168201915b50505050508152602001600482018054610a6190611670565b80601f0160208091040260200160405190810160405280929190818152602001828054610a8d90611670565b8015610ada5780601f10610aaf57610100808354040283529160200191610ada565b820191906000526020600020905b815481529060010190602001808311610abd57829003601f168201915b50505050508152602001600582018054610af390611670565b80601f0160208091040260200160405190810160405280929190818152602001828054610b1f90611670565b8015610b6c5780601f10610b4157610100808354040283529160200191610b6c565b820191906000526020600020905b815481529060010190602001808311610b4f57829003601f168201915b50505050508152602001600682018054610b8590611670565b80601f0160208091040260200160405190810160405280929190818152602001828054610bb190611670565b8015610bfe5780601f10610bd357610100808354040283529160200191610bfe565b820191906000526020600020905b815481529060010190602001808311610be157829003601f168201915b50505050508152602001600782015481526020016008820154815250508152602001906001019061083c565b505050509050919050565b60008082604051610c46919061157e565b9081526020016040518091039020805490509050919050565b6040518061012001604052806060815260200160006007811115610c8657610c85610fd7565b5b8152602001606081526020016060815260200160608152602001606081526020016060815260200160008152602001600080191681525090565b828054610ccc90611670565b90600052602060002090601f016020900481019282610cee5760008555610d35565b82601f10610d0757805160ff1916838001178555610d35565b82800160010185558215610d35579182015b82811115610d34578251825591602001919060010190610d19565b5b509050610d429190610d46565b5090565b5b80821115610d5f576000816000905550600101610d47565b5090565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7fb95aa35500000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610dca82610d81565b810181811067ffffffffffffffff82111715610de957610de8610d92565b5b80604052505050565b6000610dfc610d63565b9050610e088282610dc1565b919050565b600067ffffffffffffffff821115610e2857610e27610d92565b5b610e3182610d81565b9050602081019050919050565b82818337600083830152505050565b6000610e60610e5b84610e0d565b610df2565b905082815260208101848484011115610e7c57610e7b610d7c565b5b610e87848285610e3e565b509392505050565b600082601f830112610ea457610ea3610d77565b5b8135610eb4848260208601610e4d565b91505092915050565b6000819050919050565b610ed081610ebd565b8114610edb57600080fd5b50565b600081359050610eed81610ec7565b92915050565b60008060408385031215610f0a57610f09610d6d565b5b600083013567ffffffffffffffff811115610f2857610f27610d72565b5b610f3485828601610e8f565b9250506020610f4585828601610ede565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610f89578082015181840152602081019050610f6e565b83811115610f98576000848401525b50505050565b6000610fa982610f4f565b610fb38185610f5a565b9350610fc3818560208601610f6b565b610fcc81610d81565b840191505092915050565b7fb95aa355000000","00000000000000000000000000000000000000000000000000600052602160045260246000fd5b6008811061101757611016610fd7565b5b50565b600081905061102882611006565b919050565b60006110388261101a565b9050919050565b6110488161102d565b82525050565b61105781610ebd565b82525050565b6000819050919050565b6110708161105d565b82525050565b60006101208301600083015184820360008601526110948282610f9e565b91505060208301516110a9602086018261103f565b50604083015184820360408601526110c18282610f9e565b915050606083015184820360608601526110db8282610f9e565b915050608083015184820360808601526110f58282610f9e565b91505060a083015184820360a086015261110f8282610f9e565b91505060c083015184820360c08601526111298282610f9e565b91505060e083015161113e60e086018261104e565b50610100830151611153610100860182611067565b508091505092915050565b600060208201905081810360008301526111788184611076565b905092915050565b600060ff82169050919050565b61119681611180565b81146111a157600080fd5b50565b6000813590506111b38161118d565b92915050565b600080600080600080600060e0888a0312156111d8576111d7610d6d565b5b600088013567ffffffffffffffff8111156111f6576111f5610d72565b5b6112028a828b01610e8f565b97505060206112138a828b016111a4565b965050604088013567ffffffffffffffff81111561123457611233610d72565b5b6112408a828b01610e8f565b955050606088013567ffffffffffffffff81111561126157611260610d72565b5b61126d8a828b01610e8f565b945050608088013567ffffffffffffffff81111561128e5761128d610d72565b5b61129a8a828b01610e8f565b93505060a088013567ffffffffffffffff8111156112bb576112ba610d72565b5b6112c78a828b01610e8f565b92505060c088013567ffffffffffffffff8111156112e8576112e7610d72565b5b6112f48a828b01610e8f565b91505092959891949750929550565b60006020828403121561131957611318610d6d565b5b600082013567ffffffffffffffff81111561133757611336610d72565b5b61134384828501610e8f565b91505092915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60006101208301600083015184820360008601526113968282610f9e565b91505060208301516113ab602086018261103f565b50604083015184820360408601526113c38282610f9e565b915050606083015184820360608601526113dd8282610f9e565b915050608083015184820360808601526113f78282610f9e565b91505060a083015184820360a08601526114118282610f9e565b91505060c083015184820360c086015261142b8282610f9e565b91505060e083015161144060e086018261104e565b50610100830151611455610100860182611067565b508091505092915050565b600061146c8383611378565b905092915050565b6000602082019050919050565b600061148c8261134c565b6114968185611357565b9350836020820285016114a885611368565b8060005b858110156114e457848403895281516114c58582611460565b94506114d083611474565b925060208a019950506001810190506114ac565b50829750879550505050505092915050565b600060208201905081810360008301526115108184611481565b905092915050565b61152181610ebd565b82525050565b600060208201905061153c6000830184611518565b92915050565b600081905092915050565b600061155882610f4f565b6115628185611542565b9350611572818560208601610f6b565b80840191505092915050565b600061158a828461154d565b915081905092915050565b600082825260208201905092915050565b7f496e646578206f7574206f6620626f756e647300000000000000000000000000600082015250565b60006115dc601383611595565b91506115e7826115a6565b602082019050919050565b6000602082019050818103600083015261160b816115cf565b9050919050565b7fb95aa35500000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7fb95aa35500000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061168857607f821691505b6020821081141561169c5761169b611641565b5b50919050565b7f496e76616c6964204368616e6765547970650000000000000000000000000000600082015250565b60006116d8601283611595565b91506116e3826116a2565b602082019050919050565b60006020820190508181036000830152611707816116cb565b9050919050565b600061171982610f4f565b6117238185611595565b9350611733818560208601610f6b565b61173c81610d81565b840191505092915050565b60006040820190508181036000830152611761818561170e565b90506117706020830184611518565b939250505056fea2646970667358221220fe98dc296398501d851463c9a1cba86fd7639532bb8f3b705cd93eb479b088fb64736f6c634300080b0033"};

    public static final String SM_BINARY = org.fisco.bcos.sdk.v3.utils.StringUtils.joinAll("", SM_BINARY_ARRAY);

    public static final String[] ABI_ARRAY = {"[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"string\",\"name\":\"receiptId\",\"type\":\"string\"},{\"indexed\":true,\"internalType\":\"enum WarehouseReceiptChangeHistoryV2.ChangeType\",\"name\":\"changeType\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"operatorId\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"ReceiptHistoryRecorded\",\"type\":\"event\"},{\"conflictFields\":[{\"kind\":0}],\"inputs\":[{\"internalType\":\"string\",\"name\":\"_receiptId\",\"type\":\"string\"}],\"name\":\"getHistory\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"receiptId\",\"type\":\"string\"},{\"internalType\":\"enum WarehouseReceiptChangeHistoryV2.ChangeType\",\"name\":\"changeType\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"oldValue\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"newValue\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"operatorId\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"operatorName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"txHash\",\"type\":\"bytes32\"}],\"internalType\":\"struct WarehouseReceiptChangeHistoryV2.ChangeRecord[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"selector\":[3814749038,1733706954],\"stateMutability\":\"view\",\"type\":\"function\"},{\"conflictFields\":[{\"kind\":0}],\"inputs\":[{\"internalType\":\"string\",\"name\":\"_receiptId\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"getHistoryByIndex\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"receiptId\",\"type\":\"string\"},{\"internalType\":\"enum WarehouseReceiptChangeHistoryV2.ChangeType\",\"name\":\"changeType\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"oldValue\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"newValue\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"operatorId\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"operatorName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"txHash\",\"type\":\"bytes32\"}],\"internalType\":\"struct WarehouseReceiptChangeHistoryV2.ChangeRecord\",\"name\":\"\",\"type\":\"tuple\"}],\"selector\":[3175707886,943198511],\"stateMutability\":\"view\",\"type\":\"function\"},{\"conflictFields\":[{\"kind\":0}],\"inputs\":[{\"internalType\":\"string\",\"name\":\"_receiptId\",\"type\":\"string\"}],\"name\":\"getHistoryCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"selector\":[370668959,3575458829],\"stateMutability\":\"view\",\"type\":\"function\"},{\"conflictFields\":[{\"kind\":0}],\"inputs\":[{\"internalType\":\"string\",\"name\":\"_receiptId\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"_typeIndex\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"_oldValue\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_newValue\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_operatorId\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_operatorName\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_reason\",\"type\":\"string\"}],\"name\":\"recordChange\",\"outputs\":[],\"selector\":[1426292519,1423564845],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]"};

    public static final String ABI = org.fisco.bcos.sdk.v3.utils.StringUtils.joinAll("", ABI_ARRAY);

    public static final String FUNC_GETHISTORY = "getHistory";

    public static final String FUNC_GETHISTORYBYINDEX = "getHistoryByIndex";

    public static final String FUNC_GETHISTORYCOUNT = "getHistoryCount";

    public static final String FUNC_RECORDCHANGE = "recordChange";

    public static final Event RECEIPTHISTORYRECORDED_EVENT = new Event("ReceiptHistoryRecorded", 
            Arrays.<TypeReference<?>>asList(new TypeReference<Utf8String>(true) {}, new TypeReference<Uint8>(true) {}, new TypeReference<Utf8String>() {}, new TypeReference<Uint256>() {}));
    ;

    protected WarehouseReceiptChangeHistoryV2(String contractAddress, Client client,
            CryptoKeyPair credential) {
        super(getBinary(client.getCryptoSuite()), contractAddress, client, credential);
    }

    public static String getBinary(CryptoSuite cryptoSuite) {
        return (cryptoSuite.getCryptoTypeConfig() == CryptoType.ECDSA_TYPE ? BINARY : SM_BINARY);
    }

    public static String getABI() {
        return ABI;
    }

    public List<ReceiptHistoryRecordedEventResponse> getReceiptHistoryRecordedEvents(
            TransactionReceipt transactionReceipt) {
        List<Contract.EventValuesWithLog> valueList = extractEventParametersWithLog(RECEIPTHISTORYRECORDED_EVENT, transactionReceipt);
        ArrayList<ReceiptHistoryRecordedEventResponse> responses = new ArrayList<ReceiptHistoryRecordedEventResponse>(valueList.size());
        for (Contract.EventValuesWithLog eventValues : valueList) {
            ReceiptHistoryRecordedEventResponse typedResponse = new ReceiptHistoryRecordedEventResponse();
            typedResponse.log = eventValues.getLog();
            typedResponse.receiptId = (byte[]) eventValues.getIndexedValues().get(0).getValue();
            typedResponse.changeType = (BigInteger) eventValues.getIndexedValues().get(1).getValue();
            typedResponse.operatorId = (String) eventValues.getNonIndexedValues().get(0).getValue();
            typedResponse.timestamp = (BigInteger) eventValues.getNonIndexedValues().get(1).getValue();
            responses.add(typedResponse);
        }
        return responses;
    }

    public void subscribeReceiptHistoryRecordedEvent(BigInteger fromBlock, BigInteger toBlock,
            List<String> otherTopics, EventSubCallback callback) {
        String topic0 = eventEncoder.encode(RECEIPTHISTORYRECORDED_EVENT);
        subscribeEvent(topic0,otherTopics,fromBlock,toBlock,callback);
    }

    public void subscribeReceiptHistoryRecordedEvent(EventSubCallback callback) {
        String topic0 = eventEncoder.encode(RECEIPTHISTORYRECORDED_EVENT);
        subscribeEvent(topic0,callback);
    }

    /**
     * 获取指定仓单的所有历史记录 
     */
    public List<ChangeRecord> getHistory(String _receiptId) throws ContractException {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(FUNC_GETHISTORY, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId)), 
                Arrays.<TypeReference<?>>asList(new TypeReference<DynamicArray<ChangeRecord>>() {}));
        return executeCallWithSingleValueReturn(function, List.class);
    }

    public Function getMethodGetHistoryRawFunction(String _receiptId) throws ContractException {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(FUNC_GETHISTORY, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId)), 
                Arrays.<TypeReference<?>>asList(new TypeReference<DynamicArray<ChangeRecord>>() {}));
        return function;
    }

    /**
     * 按索引获取单条历史记录 
     */
    public ChangeRecord getHistoryByIndex(String _receiptId, BigInteger _index) throws
            ContractException {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(FUNC_GETHISTORYBYINDEX, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint256(_index)), 
                Arrays.<TypeReference<?>>asList(new TypeReference<ChangeRecord>() {}));
        return executeCallWithSingleValueReturn(function, ChangeRecord.class);
    }

    public Function getMethodGetHistoryByIndexRawFunction(String _receiptId, BigInteger _index)
            throws ContractException {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(FUNC_GETHISTORYBYINDEX, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint256(_index)), 
                Arrays.<TypeReference<?>>asList(new TypeReference<ChangeRecord>() {}));
        return function;
    }

    /**
     * 获取历史记录总数 (分页辅助) 
     */
    public BigInteger getHistoryCount(String _receiptId) throws ContractException {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(FUNC_GETHISTORYCOUNT, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId)), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Uint256>() {}));
        return executeCallWithSingleValueReturn(function, BigInteger.class);
    }

    public Function getMethodGetHistoryCountRawFunction(String _receiptId) throws
            ContractException {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(FUNC_GETHISTORYCOUNT, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId)), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Uint256>() {}));
        return function;
    }

    /**
     * 记录一次变更操作 由后端 Service 在完成业务逻辑后调用 
     * @return TransactionReceipt Get more transaction info (e.g. txhash, block) from TransactionReceipt 
     */
    public TransactionReceipt recordChange(String _receiptId, BigInteger _typeIndex,
            String _oldValue, String _newValue, String _operatorId, String _operatorName,
            String _reason) {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(
                FUNC_RECORDCHANGE, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint8(_typeIndex), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_oldValue), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_newValue), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_operatorId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_operatorName), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_reason)), 
                Collections.<TypeReference<?>>emptyList(), 0);
        return executeTransaction(function);
    }

    public Function getMethodRecordChangeRawFunction(String _receiptId, BigInteger _typeIndex,
            String _oldValue, String _newValue, String _operatorId, String _operatorName,
            String _reason) throws ContractException {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(FUNC_RECORDCHANGE, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint8(_typeIndex), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_oldValue), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_newValue), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_operatorId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_operatorName), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_reason)), 
                Arrays.<TypeReference<?>>asList());
        return function;
    }

    public String getSignedTransactionForRecordChange(String _receiptId, BigInteger _typeIndex,
            String _oldValue, String _newValue, String _operatorId, String _operatorName,
            String _reason) {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(
                FUNC_RECORDCHANGE, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint8(_typeIndex), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_oldValue), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_newValue), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_operatorId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_operatorName), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_reason)), 
                Collections.<TypeReference<?>>emptyList(), 0);
        return createSignedTransaction(function);
    }

    /**
     * 记录一次变更操作 由后端 Service 在完成业务逻辑后调用 
     * @param callback Get TransactionReceipt from TransactionCallback onResponse(TransactionReceipt receipt) 
     * @return txHash Transaction hash of current transaction call 
     */
    public String recordChange(String _receiptId, BigInteger _typeIndex, String _oldValue,
            String _newValue, String _operatorId, String _operatorName, String _reason,
            TransactionCallback callback) {
        @SuppressWarnings("rawtypes")
        final Function function = new Function(
                FUNC_RECORDCHANGE, 
                Arrays.<Type>asList(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_receiptId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint8(_typeIndex), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_oldValue), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_newValue), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_operatorId), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_operatorName), 
                new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(_reason)), 
                Collections.<TypeReference<?>>emptyList(), 0);
        return asyncExecuteTransaction(function, callback);
    }

    public Tuple7<String, BigInteger, String, String, String, String, String> getRecordChangeInput(
            TransactionReceipt transactionReceipt) {
        String data = transactionReceipt.getInput().substring(10);
        @SuppressWarnings("rawtypes")
        final Function function = new Function(FUNC_RECORDCHANGE, 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Utf8String>() {}, new TypeReference<Uint8>() {}, new TypeReference<Utf8String>() {}, new TypeReference<Utf8String>() {}, new TypeReference<Utf8String>() {}, new TypeReference<Utf8String>() {}, new TypeReference<Utf8String>() {}));
        @SuppressWarnings("rawtypes")
        List<Type> results = this.functionReturnDecoder.decode(data, function.getOutputParameters());
        return new Tuple7<String, BigInteger, String, String, String, String, String>(

                (String) results.get(0).getValue(), 
                (BigInteger) results.get(1).getValue(), 
                (String) results.get(2).getValue(), 
                (String) results.get(3).getValue(), 
                (String) results.get(4).getValue(), 
                (String) results.get(5).getValue(), 
                (String) results.get(6).getValue()
                );
    }

    public static WarehouseReceiptChangeHistoryV2 load(String contractAddress, Client client,
            CryptoKeyPair credential) {
        return new WarehouseReceiptChangeHistoryV2(contractAddress, client, credential);
    }

    public static WarehouseReceiptChangeHistoryV2 deploy(Client client, CryptoKeyPair credential)
            throws ContractException {
        return deploy(WarehouseReceiptChangeHistoryV2.class, client, credential, getBinary(client.getCryptoSuite()), getABI(), null, null);
    }

    public static class ChangeRecord extends DynamicStruct {
        public String receiptId;

        public BigInteger changeType;

        public String oldValue;

        public String newValue;

        public String operatorId;

        public String operatorName;

        public String reason;

        public BigInteger timestamp;

        public byte[] txHash;

        public ChangeRecord(Utf8String receiptId, Uint8 changeType, Utf8String oldValue,
                Utf8String newValue, Utf8String operatorId, Utf8String operatorName,
                Utf8String reason, Uint256 timestamp, Bytes32 txHash) {
            super(receiptId,changeType,oldValue,newValue,operatorId,operatorName,reason,timestamp,txHash);
            this.receiptId = receiptId.getValue();
            this.changeType = changeType.getValue();
            this.oldValue = oldValue.getValue();
            this.newValue = newValue.getValue();
            this.operatorId = operatorId.getValue();
            this.operatorName = operatorName.getValue();
            this.reason = reason.getValue();
            this.timestamp = timestamp.getValue();
            this.txHash = txHash.getValue();
        }

        public ChangeRecord(String receiptId, BigInteger changeType, String oldValue,
                String newValue, String operatorId, String operatorName, String reason,
                BigInteger timestamp, byte[] txHash) {
            super(new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(receiptId),new org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint8(changeType),new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(oldValue),new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(newValue),new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(operatorId),new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(operatorName),new org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String(reason),new org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint256(timestamp),new org.fisco.bcos.sdk.v3.codec.datatypes.generated.Bytes32(txHash));
            this.receiptId = receiptId;
            this.changeType = changeType;
            this.oldValue = oldValue;
            this.newValue = newValue;
            this.operatorId = operatorId;
            this.operatorName = operatorName;
            this.reason = reason;
            this.timestamp = timestamp;
            this.txHash = txHash;
        }
    }

    public static class ReceiptHistoryRecordedEventResponse {
        public TransactionReceipt.Logs log;

        public byte[] receiptId;

        public BigInteger changeType;

        public String operatorId;

        public BigInteger timestamp;
    }
}
